// ============================================================================================= //
//                                            MIXINS                                             //
// ============================================================================================= //

@use "sass:map";
@use "@sass-collective/css";
@use "@sass-collective/property";
@use "./variables";
@use "./functions";

@mixin core-styles {
    @each $style in functions.get-keys() {
        @include set-class-name(theme--#{$style}) {
            @include property(color, $style);
        }
    }

    @each $style in variables.$colors-bg {
        @include set-class-name(theme--#{$style}-bg) {
            @include property(background-color, $style);
        }
    }
}

// ------------------------------------------------------------------------- //
// Private mixins
// ------------------------------------------------------------------------- //

// ...

// ------------------------------------------------------------------------- //
// Public mixins
// ------------------------------------------------------------------------- //

@mixin set-class-name($name) {
    .#{$name} {
        @include css.selector(variables.$prefix, "-") {
            @content;
        }
    }
}

@mixin property($property, $value: null, $important: false) {
    @if map.has-key(variables.$property-values, $value) {
        $value: functions.set-var(theme-#{$value}, functions.color($value));
    }

    @include property.declaration($property, $value, $important);
}
