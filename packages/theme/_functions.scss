// ============================================================================================= //
//                                           FUNCTIONS                                           //
// ============================================================================================= //

@use "sass:map";
@use "@magnesium/core";
@use "@unsass/css/custom-properties";
@use "./variables";

///
/// Get theme keys.
///
@function get-keys() {
    @return map.keys(get-colors-option());
}

///
/// Create name.
///
@function create-name($name) {
    @if core.$prefix {
        $name: #{core.$prefix}-#{$name};
    }

    @return $name;
}

///
/// Create `var()` CSS function.
///
/// @see {function} custom-properties.create-var
/// @see {function} custom-properties.create
///
@function create-var($name, $fallback) {
    @return custom-properties.create-var(custom-properties.create(#{$name}, $fallback));
}

///
/// Create CSS Custom Property map.
///
/// @see {function} custom-properties.create
///
@function create-custom-map($name, $fallback) {
    @return custom-properties.create(create-name(theme-#{$name}), $fallback);
}

///
/// Check if color key exist.
///
@function exist($color) {
    @return map.has-key(get-colors-option(), $color);
}

///
/// Get theme color.
///
@function get-color($token) {
    @if not map.has-key(get-colors-option(), $token) {
        @error "Invalid color scheme, '#{$token}' doesn't exist. Choose one of #{get-keys()}.";
    }

    @return map.get(get-colors-option(), $token);
}

///
/// Get "colors" option.
///
@function get-colors-option() {
    @return core.get-theme-option("colors");
}

///
/// Get "bg-colors" option.
///
@function get-bg-colors-option() {
    @return core.get-theme-option("bg-colors");
}
