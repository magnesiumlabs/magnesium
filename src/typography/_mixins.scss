// ============================================================================================= //
//                                            MIXINS                                             //
// ============================================================================================= //

@use "sass:list";
@use "sass:map";
@use "../variables" as core-variables;
@use "../functions" as core-functions;
@use "./variables";
@use "./functions";

// ------------------------------------------------------------------------- //
// Private mixins
// ------------------------------------------------------------------------- //

@mixin _typography($style) {
    @each $key, $value in variables.$allowed-tokens {
        #{$key}: map.get($style, $key);
    }
}

// ------------------------------------------------------------------------- //
// Public mixins
// ------------------------------------------------------------------------- //

///
/// @example - scss
///   .foo {
///     @include theme-styles($typography, "button");
///   }
///
/// @example - css
///   .foo {
///     font-family: ;
//      font-size: ;
//      font-weight: ;
//      letter-spacing: ;
//      line-height: ;
///   }
///
/// @param {Map} $style - The typography style.
/// @param {String} $prefix - The typography component prefix.
///
@mixin theme-styles($style, $prefix) {
    @include _typography(functions.create-typography-var($style, $prefix));
}

///
/// @example - scss
///   $typography: (
///     font-size: 16px
///   );
///
///   .foo {
///     @include create-theme($typography, "button");
///   }
///
/// @example - css
///   .foo {
///     --mg-typography-button-font-size: 16px;
///   }
///
/// @param {Map} $typography - The typography tokens map.
/// @param {String} $style - The typography style prefix.
///
@mixin create-typography($typography, $style) {
    @each $key, $value in $typography {
        @if list.index(variables.$allowed-tokens, $key) != null {
            --#{core-functions.create-name(typography-#{$style}-#{$key})}: #{$value};
        }
    }
}
